<!--
  Generated template for the Game page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

    <ion-navbar>
        <ion-title>game</ion-title>
    </ion-navbar>

</ion-header>


<ion-content>
    <ion-list-header color="danger" full>
        <ion-label>
            {{getGameInfo()}}
            <ion-badge *ngIf="isCurrentUsersTurn()">
                {{secondsLeft}}
            </ion-badge>
        </ion-label>
    </ion-list-header>
    <ion-list padding>
        <ion-item *ngFor="let card of session.cardPriorities.sort(comp)" color="{{getCardColorCode(card.priority)}}">
            {{card.priority}} {{card.description}}
            <ion-badge item-right *ngIf="isPriorityMaxed(card.priority)" color="danger">MAXED</ion-badge>
            <ion-badge item-right *ngIf="this.session.status === 'started' && isCurrentUsersTurn() && !isPriorityMaxed(card.priority)"
                       (click)="voteOnCard(card._id)" color="secondary">VOTE
            </ion-badge>
        </ion-item>
    </ion-list>
</ion-content>
